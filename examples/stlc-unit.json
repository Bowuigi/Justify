{
  "description": "Simply-typed lambda calculus with a unit type",
  "syntax": {
    "term": {
      "description": "Terms",
      "suggestions": ["e"],
      "grammar": [
        {
          "id": "variable",
          "description": "Variable $x$",
          "texParts": [],
          "fixity": "none",
          "arguments": [
            { "from": "identifier", "id": "x", "tex": "x" }
          ]
        },
        {
          "id": "lambda",
          "description": "Binds the applied term of type $t$ to the variable $x$ inside $e$",
          "texParts": [ "\\lambda", ":", "." ],
          "fixity": "prefix",
          "arguments": [
            { "from": "identifier", "id": "x", "tex": "x" },
            { "from": "type", "id": "t", "tex": "\\tau" },
            { "from": "term", "id": "e", "tex": "e" }
          ]
        },
        {
          "id": "apply",
          "description": "Applies $e_2$ to $e_1$, performing beta reduction",
          "texParts": [ "\\;" ],
          "fixity": "infix",
          "arguments": [
            { "from": "term", "id": "e1", "tex": "e_1" },
            { "from": "term", "id": "e2", "tex": "e_2" }
          ]
        },
        {
          "id": "star",
          "description": "The only term of type $\\mathbf{1}$",
          "texParts": [ "\\star" ],
          "fixity": "none",
          "arguments": []
        }
      ]
    },
    "type": {
      "description": "Types",
      "suggestions": ["\\tau", "A", "B"],
      "grammar": [
        {
          "id": "arrow",
          "description": "A function from $A$ to $B$",
          "texParts": [ "\\rightarrow" ],
          "fixity": "infix",
          "arguments": [
            { "from": "type", "id": "t1", "tex": "A" },
            { "from": "type", "id": "t2", "tex": "B" }
          ]
        },
        {
          "id": "unit",
          "description": "A type with only one inhabitant, $\\star$",
          "texParts": [ "\\mathbf{1}" ],
          "fixity": "none",
          "arguments": []
        }
      ]
    },
    "context": {
      "description": "Contexts",
      "suggestions": ["\\Gamma"],
      "grammar": [
        {
          "id": "empty",
          "description": "Empty context, empty environment",
          "texParts": [ "\\cdot" ],
          "fixity": "none",
          "arguments": []
        },
        {
          "id": "extend",
          "description": "A cons operation for contexts (here, assoc lists)",
          "texParts": [ ",", ":" ],
          "fixity": "infix",
          "arguments": [
            { "from": "context", "id": "ctx", "tex": "\\Gamma" },
            { "from": "identifier", "id": "x", "tex": "x" },
            { "from": "type", "id": "t", "tex": "\\tau" }
          ]
        }
      ]
    }
  },
  "relations": {
    "judge": {
      "description": "Term $e$ has type $\\tau$ on context $\\Gamma$",
      "texParts": [ "\\vdash", ":" ],
      "fixity": "infix",
      "arguments": [
        { "from": "context", "tex": "\\Gamma", "id": "ctx" },
        { "from": "term", "tex": "e", "id": "tm" },
        { "from": "type", "tex": "\\tau", "id": "ty" }
      ],
      "rules": [
        {
          "rule": { "tex": "App", "id": "app" },
          "variables": {
            "e1": "e_1",
            "e2": "e_2",
            "a": "A",
            "b": "B",
            "ctx": "\\Gamma"
          },
          "literals": {},
          "patterns": {
            "ctx": "ctx",
            "tm": { "tag": "apply", "args": [ "e1", "e2" ] },
            "ty": "b"
          },
          "premises": [
            {
              "relation": "judge",
              "args": [ "ctx", "e1", { "tag": "arrow", "args": [ "a", "b" ] } ]
            },
            {
              "relation": "judge",
              "args": [ "ctx", "e2", "a" ]
            }
          ]
        },
        {
          "rule": { "tex": "Lam", "id": "lam" },
          "variables": {
            "ctx": "\\Gamma",
            "x": "x",
            "a": "A",
            "b": "B",
            "e": "e"
          },
          "literals": {},
          "patterns": {
            "ctx": "ctx",
            "tm": { "tag": "lam", "args": [ "x", "a", "e" ] },
            "ty": { "tag": "arrow", "args": [ "a", "b" ] }
          },
          "premises": [
            {
              "relation": "judge",
              "args": [ { "tag": "extend", "args": [ "ctx", "x", "a" ] }, "e", "b" ]
            }
          ]
        },
        {
          "rule": { "tex": "Unit", "id": "unit" },
          "variables": {
            "ctx": "\\Gamma"
          },
          "literals": {},
          "patterns": {
            "ctx": "ctx",
            "tm": { "tag": "star", "args": [] },
            "ty": { "tag": "unit", "args": [] }
          },
          "premises": []
        },
        {
          "rule": { "tex": "Var", "id": "var" },
          "variables": {
            "ctx": "\\Gamma",
            "x": "x",
            "t": "\\tau"
          },
          "literals": {},
          "patterns": {
            "ctx": "ctx",
            "tm": { "tag": "variable", "args": [ "x" ] },
            "ty": "t"
          },
          "premises": [
            {
              "relation": "member",
              "args": [ "ctx", "x", "t" ]
            }
          ]
        }
      ]
    },
    "member": {
      "description": "Term $e$ inside context $\\Gamma$ has type $\\tau$",
      "texParts": [ ":", "\\in" ],
      "fixity": "infix",
      "arguments": [
        { "from": "identifier", "tex": "x", "id": "ident" },
        { "from": "type", "tex": "\\tau", "id": "ty" },
        { "from": "context", "tex": "\\Gamma", "id": "ctx" }
      ],
      "rules": [
        {
          "rule": { "tex": "Found", "id": "found" },
          "variables": {
            "x": "x",
            "t": "\\tau",
            "ctx": "\\Gamma"
          },
          "literals": {},
          "patterns": {
            "ctx": { "tag": "extend", "args": [ "ctx", "x", "t" ] },
            "ident": "x",
            "ty": "t"
          },
          "premises": []
        },
        {
          "rule": { "tex": "Next", "id": "next" },
          "variables": {
            "x": "x",
            "y": "y",
            "t1": "\\tau",
            "t2": "\\sigma",
            "ctx": "\\Gamma"
          },
          "literals": {},
          "patterns": {
            "ctx": { "tag": "extend", "args": [ "ctx", "y", "t2" ] },
            "ident": "x",
            "ty": "t1"
          },
          "premises": [
            {
              "relation": "member",
              "args": [ "ctx", "x", "t1" ]
            }
          ]
        }
      ]
    }
  }
}
